function da(e,t,n){var r=this;r.x=e,r.y=t,r.a=n,r.o=function(e,t,n){r.x=e,r.y=t,r.a=n},r.toString=function(){return"("+r.x+","+r.y+","+r.a+")"},r.i=function(e){var t=Math.sin(e),e=Math.cos(e),n=r.y,i=r.a;r.y=e*n-t*i,r.a=t*n+e*i},r.j=function(e){var t=Math.sin(e),e=Math.cos(e),n=r.x,i=r.a;r.x=e*n+t*i,r.a=-t*n+e*i},r.F=function(e){var t=Math.sin(e),e=Math.cos(e),n=r.x,i=r.y;r.x=e*n-t*i,r.y=t*n+e*i},r.ha=function(){return new da(r.x,r.y,r.a)},r.length=function(){return Math.sqrt(r.x*r.x+r.y*r.y+r.a*r.a)},r.M=function(e){return r.x*e.x+r.y*e.y+r.a*e.a},r.X=function(e,t){var n;n=Math.cos(t*Math.PI/180),r.x=n*Math.sin(e*Math.PI/180),r.y=Math.sin(t*Math.PI/180),r.a=n*Math.cos(e*Math.PI/180)},r.na=function(e,t,n){r.x=e.x*n+t.x*(1-n),r.y=e.y*n+t.y*(1-n),r.a=e.a*n+t.a*(1-n)}}function ob(e){e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1}function kc(e,t,n){var r,i=n[0],s=n[1],n=n[2],o=Math.sqrt(i*i+s*s+n*n);if(o){1!=o&&(o=1/o,i*=o,s*=o,n*=o);var u=Math.sin(t),a=Math.cos(t),f=1-a,t=e[0],o=e[1],l=e[2],c=e[3],h=e[4],p=e[5],d=e[6],v=e[7],m=e[8],g=e[9],y=e[10],b=e[11],w=i*i*f+a,E=s*i*f+n*u,S=n*i*f-s*u,x=i*s*f-n*u,T=s*s*f+a,N=n*s*f+i*u,C=i*n*f+s*u,i=s*n*f-i*u,s=n*n*f+a;r?e!=r&&(r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]):r=e,r[0]=t*w+h*E+m*S,r[1]=o*w+p*E+g*S,r[2]=l*w+d*E+y*S,r[3]=c*w+v*E+b*S,r[4]=t*x+h*T+m*N,r[5]=o*x+p*T+g*N,r[6]=l*x+d*T+y*N,r[7]=c*x+v*T+b*N,r[8]=t*C+h*i+m*s,r[9]=o*C+p*i+g*s,r[10]=l*C+d*i+y*s,r[11]=c*C+v*i+b*s}}function lc(){var e="perspective",t=["Webkit","Moz","O","ms","Ms"],n;n=u;for(n=0;n<t.length;n++)"undefined"!=typeof document.documentElement.style[t[n]+"Perspective"]&&(e=t[n]+"Perspective");return"undefined"!=typeof document.documentElement.style[e]?"webkitPerspective"in document.documentElement.style?(e=document.createElement("style"),t=document.createElement("div"),n=document.head||document.getElementsByTagName("head")[0],e.textContent="@media (-webkit-transform-3d) {#ggswhtml5{height:5px}}",n.appendChild(e),t.id="ggswhtml5",document.documentElement.appendChild(t),n=5===t.offsetHeight,e.parentNode.removeChild(e),t.parentNode.removeChild(t)):n=m:n=u,n}function mc(){var e;if(e=!!window.WebGLRenderingContext)try{var t=document.createElement("canvas");t.width=100,t.height=100;var n=t.getContext("webgl");n||(n=t.getContext("experimental-webgl")),e=n?m:u}catch(r){e=u}return e}function pano2vrPlayer(e){function t(e){var t,n;n=[],t=e.getAttributeNode("title"),n.title=t?t.nodeValue.toString():"",t=e.getAttributeNode("description"),n.description=t?t.nodeValue.toString():"",t=e.getAttributeNode("author"),n.author=t?t.nodeValue.toString():"",t=e.getAttributeNode("datetime"),n.datetime=t?t.nodeValue.toString():"",t=e.getAttributeNode("copyright"),n.copyright=t?t.nodeValue.toString():"",t=e.getAttributeNode("source"),n.source=t?t.nodeValue.toString():"",t=e.getAttributeNode("info"),n.information=t?t.nodeValue.toString():"",t=e.getAttributeNode("comment"),n.comment=t?t.nodeValue.toString():"",t=e.getAttributeNode("latitude"),n.latitude=t?1*t.nodeValue:"0.0",t=e.getAttributeNode("longitude"),n.longitude=t?1*t.nodeValue:"0.0";if(t=e.getAttributeNode("tags")){e=t.nodeValue.toString().split("|");for(t=0;t<e.length;t++)""==e[t]&&(e.splice(t,1),t--);n.tags=e}else n.tags=[];return n}function r(e){yr="{"==e.charAt(0)?e.substr(1,e.length-2):"",at.skinObj&&at.skinObj.changeActiveNode&&at.skinObj.changeActiveNode(e)}function s(e){for(var t=0;t<_n.length;t++)if(_n[t].id==e)return _n[t];for(t=0;t<Dn.length;t++)if(Dn[t].id==e)return Dn[t];return n}function o(e){try{e.obj=document.createElement("img");if(1==e.g||4==e.g)e.obj.onclick=function(){e.l=!e.l,e.obj.style.zIndex=e.l?80:0,e.obj.style[fr]="all 1s ease 0s",e.I=m,e.obj.addEventListener(f(),function(){e.I=u,e.obj.style[fr]="none"},u),U()};e.obj.setAttribute("src",q(e.url)),e.n&&(e.obj.width=e.n),e.m&&(e.obj.height=e.m),Pn.push(e),e.obj.style.position="absolute";var t=fn.firstChild;t?fn.insertBefore(e.obj,t):fn.appendChild(e.obj)}catch(n){Q("Error addimage:"+n)}}function a(e){try{e.obj=document.createElement("video");if(1==e.g||4==e.g)e.obj.onclick=function(){e.l=!e.l,e.l?(e.obj.style.zIndex=80,e.obj.style[fr]="all 1s ease 0s",at.playSound(e.id)):(e.obj.style.zIndex=0,e.obj.style[fr]="all 1s ease 0s"),e.I=m,e.obj.addEventListener(f(),function(){e.I=u,e.obj.style[fr]="none"},u),U()};2==e.g&&(e.obj.onclick=function(){at.playPauseSound(e.id)});var t;for(t=0;t<e.url.length;t++){var n;n=document.createElement("source"),n.setAttribute("src",q(e.url[t])),e.obj.appendChild(n)}e.obj.volume=e.b*jn,0==e.loop&&(e.obj.e=1e7),1<=e.loop&&(e.obj.e=e.loop-1),(1==e.mode||2==e.mode||3==e.mode||5==e.mode)&&0<=e.loop&&(e.obj.autoplay=m),Dn.push(e),e.obj.style.position="absolute",e.n&&(e.obj.width=e.n),e.m&&(e.obj.height=e.m);var r=fn.firstChild;r?fn.insertBefore(e.obj,r):fn.appendChild(e.obj),e.$=m,e.obj.addEventListener("ended",function(){if(0<this.e)return this.e--,this.currentTime=0,this.play(),m;this.$=u},u)}catch(i){Q(i)}}function f(){var e,t=document.createElement("fakeelement"),n={OTransition:"oTransitionEnd",MSTransition:"msTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd",transition:"transitionEnd"};for(e in n)if(void 0!==t.style[e])return n[e]}function l(e){var t=-1;try{for(var r=0;r<_n.length;r++)_n[r].id==e.id&&_n[r].obj!=n&&_n[r].url.join()==e.url.join()&&_n[r].loop==e.loop&&_n[r].mode==e.mode&&(t=r);if(-1==t){for(r=0;r<_n.length;r++)if(_n[r].id==e.id&&_n[r].obj!=n){try{_n[r].obj.pause()}catch(i){Q(i)}try{_n[r].obj.parentElement.removeChild(_n[r].obj),delete _n[r].obj,_n[r].obj=n}catch(s){Q(s)}t=r}e.obj=document.createElement("audio");for(r=0;r<e.url.length;r++){var o;o=document.createElement("source"),""!=e.url[r]&&"#"!=e.url[r]&&(o.setAttribute("src",q(e.url[r])),e.obj.appendChild(o))}e.obj.volume=e.b*jn,0==e.loop&&(e.obj.e=1e7),1<=e.loop&&(e.obj.e=e.loop-1),(1==e.mode||2==e.mode||3==e.mode||5==e.mode)&&0<=e.loop&&(e.obj.autoplay=m),0<=t?_n[t]=e:_n.push(e),0<e.obj.childNodes.length&&(on.appendChild(e.obj),e.obj.addEventListener("ended",function(){if(0<this.e)return this.e--,this.currentTime=0,this.play(),m},u))}}catch(a){Q(a)}}function c(){var e;e=document.createElement("div"),e.innerHTML="",e.setAttribute("style","top:  0px;left: 0px;width: 100px;height: 100px;overflow: hidden;z-index: 5000;position:relative;"),on.replaceChild(e,fn),e.style.width=0+Wn+Vn+At+"px",e.style.height=0+Xn+$n+Ot+"px",e.onclick=function(){on.replaceChild(fn,e)},e.oncontextmenu=function(){on.replaceChild(fn,e)}}function h(){setTimeout(function(){at.setFullscreen(u)},10),setTimeout(function(){at.setFullscreen(u)},100)}function p(){br(p);var e=new Date;0<=Rt&&(Gn?(Yt=.4*(Dt-Qt),Zt=.4*(Pt-Gt),Qt+=Yt,Gt+=Zt,B(Yt,Zt)):(Yt=.1*-It,Zt=.1*-qt,B(.1*-It,.1*-qt)),at.dirty=m),en&&(at.changeFov(.4*(tn-wt)),.001>Math.abs(tn-wt)/wt&&(en=u),at.dirty=m),Kt&&(0!=Yt||0!=Zt)&&0>Rt&&(Yt*=.9,Zt*=.9,.1>Yt*Yt+Zt*Zt?Zt=Yt=0:(B(Yt,Zt),at.dirty=m));if(0!=nn){switch(nn){case 37:at.changePan(1,m);break;case 38:at.changeTilt(1,m);break;case 39:at.changePan(-1,m);break;case 40:at.changeTilt(-1,m);break;case 43:case 107:case 16:at.changeFovLog(-1,m);break;case 17:case 18:case 109:case 45:case 91:at.changeFovLog(1,m)}at.dirty=m}if(!at.isLoaded&&at.hasConfig){var t,r=0;gn&&(at.finalPanorama(),gn=u);for(t=0;t<at.checkLoaded.length;t++)at.checkLoaded[t].complete&&"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAA5JREFUeNpiYBgeACDAAADIAAE3iTbkAAAAAElFTkSuQmCC"!=at.checkLoaded[t].src&&r++;r==at.checkLoaded.length?(cn=1,at.isLoaded=m,at.divSkin&&at.divSkin.ggLoaded&&at.divSkin.ggLoaded()):cn=r/(1*at.checkLoaded.length)}for(;360<ft;)ft-=360;for(;-360>ft;)ft+=360;if(Nn){pt=kn-ft;if(360==ht-ct){for(;-180>pt;)pt+=360;for(;180<pt;)pt-=360}bt=Ln-vt,Nt=An-wt,t=Math.sqrt(pt*pt+bt*bt+Nt*Nt),10*t<Cn?(Nn=u,Nt=bt=pt=0,at.onMoveComplete)&&at.onMoveComplete():(t=t>5*Cn?Cn/t:.2,pt*=t,bt*=t,Nt*=t),ft+=pt,vt+=bt,wt+=Nt,On=e.getTime(),at.dirty=m}else if(wn)if(t=e.getTime()-Tn,0<xn&&at.S&&t>=1e3*xn){if(1<Bn.length){t=1e3;do r=Bn[Math.floor(Math.random()*Bn.length)];while(t--&&r==yr);Tn=e.getTime(),at.openNext("{"+r+"}")}}else bt=Sn*(0-vt)/100,Nt=Sn*(Et-wt)/100,pt=.95*pt+.05*-En,ft+=pt,vt+=bt,wt+=Nt,at.dirty=m;else if(yn&&0>Rt&&e.getTime()-On>1e3*bn&&(wn=m,Tn=e.getTime(),Nt=bt=pt=0),Kt&&0==nn&&0>Rt&&(0!=pt||0!=bt||0!=Nt))pt*=.9,bt*=.9,Nt*=.9,ft+=pt,vt+=bt,at.changeFovLog(Nt),1e-4>pt*pt+bt*bt+Nt*Nt&&(Nt=bt=pt=0),at.dirty=m;zn&&(Un?e.getTime()-Rn>=1e3*qn&&(Un=u):(Fn+=In,0>Fn&&(Fn=0,In=-In,Un=m,Rn=e.getTime()),1<Fn&&(Fn=1,In=-In,Un=m,Rn=e.getTime()),at.setOverlayOpacity(Fn)));if(0<Dn.length)for(t=0;t<Dn.length;t++)Dn[t].$&&Dn[t].la!=Dn[t].obj.currentTime&&(Dn[t].la=Dn[t].obj.currentTime,!Dn[t].fa&&0<Dn[t].obj.videoHeight&&(Dn[t].fa=Dn[t].obj.videoWidth/Dn[t].obj.videoHeight));if(0<Y){if(2==Y)for(t=0;t<Mn.length;t++)e=Mn[t],"poly"==e.type&&e.k!=e.c&&(e.k>e.c?(e.c+=.05,e.k<e.c&&(e.c=e.k)):(e.c-=.05,e.k>e.c&&(e.c=e.k)),at.dirty=m);3==Y&&et!=Z&&(et>Z?(Z+=.05,et<Z&&(Z=et)):(Z-=.05,et>Z&&(Z=et)),at.dirty=m)}e=new da,e.X(ft,vt);for(t=0;t<_n.length+Dn.length;t++)if(r=t<_n.length?_n[t]:Dn[t-_n.length],r.obj){var i;i=r.pan-ft;for(var s=r.tilt-vt;-180>i;)i+=360;for(;180<i;)i-=360;var o=r.z,a=r.field;0==a&&(a=.01),0>a&&(a=wt),r.N||(r.N=new da,r.N.X(r.pan,r.tilt));if(3==r.mode){i=Math.abs(i),i=i<r.f?0:i-r.f;var f=r.b,s=Math.abs(s),s=s<r.r?0:s-r.r,l=1-s/a;if(Math.abs(i)>a||0>l)r.obj.volume=f*o*jn;else{var c=1-Math.abs(i/a);r.obj.volume=f*(o+(1-o)*l*c)*jn}}4==r.mode&&r.sa==n&&(Math.abs(i)<r.f&&Math.abs(s)<r.r?r.G||(r.G=m,r.obj.play()):r.G=u),5==r.mode&&(i=180*Math.acos(e.M(r.N))/Math.PI,i<r.f?r.obj.volume=r.b*jn:(i-=r.f,i<a&&0<a?(c=1-Math.abs(i/a),r.obj.volume=r.b*(o+(1-o)*c)*jn):r.obj.volume=o*jn)),6==r.mode&&(i=180*Math.acos(e.M(r.N))/Math.PI,Math.abs(i)<r.f?r.G||(r.G=m,r.obj.play()):r.G=u)}at.dirty&&(at.dirty=u,at.updatePanorama())}function d(e){at.skinObj&&at.skinObj.hotspotProxyClick&&at.skinObj.hotspotProxyClick(e.id),""!=e.url&&(at.openUrl(e.url,e.target),_(-1,-1))}function g(){at.isFullscreen&&!document.webkitIsFullScreen&&!document.mozFullScreen&&!document.fullScreen&&at.exitFullscreen()}function y(){nn=0}function b(){nn=0,P()}function E(e){Jn||(nn=e.keyCode,P())}function S(e){Kn||(e.preventDefault(),P())}function x(e){Kn||(e.preventDefault(),en=m,tn=Tt/Math.sqrt(event.scale),tn>xt&&(tn=xt),tn<St&&(tn=St),at.dirty=m,P())}function T(e){or=m,Kn||(e.preventDefault(),Tt=wt,P())}function N(e){Kn||(e.preventDefault(),Rt=-2)}function C(e){if(!Kn){e.preventDefault(),0<=Rt&&P();var t=(new Date).getTime(),e=-1,r,i,s=m,e=Math.abs(Ut-Wt)+Math.abs(zt-Xt);if(0<=e&&20>e){r=W(at.mouse.x,at.mouse.y);if(at.d){e=at.d;for(i=u;e&&e!=at.control;)e.onclick&&!i&&(e.onclick(),i=m,s=u),e=e.parentNode}e=Math.abs(Vt-Wt)+Math.abs($t-Xt);if(700>t-at.C&&0<=e&&20>e){at.d==at.control&&er&&setTimeout(function(){at.toggleFullscreen()},1);if(at.d){e=at.d;for(i=u;e&&e!=at.control;)e.ondblclick&&!i&&(e.ondblclick(),i=m,s=u),e=e.parentNode}at.C=0}else at.C=t;Vt=Wt,$t=Xt}if(at.d){e=at.d;for(i=u;e&&e!=at.control;)e.onmouseout&&e.onmouseout(),e.onmouseup&&!i&&(e.onmouseup(),i=m),e=e.parentNode}at.d=n,Rt=-11,r&&s&&d(r)}}function k(e){e||(e=window.event);var t=e.touches,n=J();at.mouse.x=t[0].pageX-n.x,at.mouse.y=t[0].pageY-n.y;if(!Kn){e.preventDefault(),t[0]&&(Wt=t[0].pageX,Xt=t[0].pageY);if(0<=Rt){e.preventDefault();for(e=0;e<t.length;e++)if(t[e].identifier==Rt){H(t[e].pageX,t[e].pageY);break}P()}2==t.length&&t[0]&&t[1]&&(Rt=-6,or||(Lt=Math.sqrt((t[0].pageX-t[1].pageX)*(t[0].pageX-t[1].pageX)+(t[0].pageY-t[1].pageY)*(t[0].pageY-t[1].pageY)),en=m,tn=Tt*Math.sqrt(kt/Lt),tn>xt&&(tn=xt),tn<St&&(tn=St),P()))}}function L(e){e||(e=window.event);var t=e.touches,n=J();at.mouse.x=t[0].pageX-n.x,at.mouse.y=t[0].pageY-n.y;if(!Kn){e.preventDefault();if(0>Rt&&t[0]&&(Jt=(new Date).getTime(),Ut=t[0].pageX,zt=t[0].pageY,Wt=t[0].pageX,Xt=t[0].pageY,at.d=t[0].target,t[0].target==at.control&&(e=t[0].pageX,n=t[0].pageY,Mt=e,_t=n,Dt=e,Pt=n,Qt=e,Gt=n,Rt=t[0].identifier,P()),at.d)){e=at.d;for(flag=u;e&&e!=at.control;)e.onmouseover&&e.onmouseover(),e.onmousedown&&!flag&&(e.onmousedown(),flag=m),e=e.parentNode}1<t.length&&(Rt=-5),!or&&2==t.length&&t[0]&&t[1]&&(kt=Math.sqrt((t[0].pageX-t[1].pageX)*(t[0].pageX-t[1].pageX)+(t[0].pageY-t[1].pageY)*(t[0].pageY-t[1].pageY)),Tt=wt),qt=It=0}}function A(e){if(!Qn){var e=e?e:window.event,t=e.detail?-1*e.detail:e.wheelDelta/40;Yn&&(t=-t),at.changeFovLog((0<t?1:-1)*Zn,m),at.dirty=m,e.preventDefault(),P()}}function O(e){e=e?e:window.event;if(!Kn&&(e.preventDefault(),0<=Rt)){Rt=-3,qt=It=0;var e=(new Date).getTime(),t=-1,t=Math.abs(Mt-Dt)+Math.abs(_t-Pt);400>e-Jt&&0<=t&&20>t&&((t=W(at.mouse.x,at.mouse.y))&&d(t),t=Math.abs(Ht-Dt)+Math.abs(Bt-Pt),700>e-at.C&&0<=t&&20>t?(er&&setTimeout(function(){at.toggleFullscreen()},10),at.C=0):at.C=e,Ht=Dt,Bt=Pt),P()}}function M(e){var e=e?e:window.event,t=J();at.mouse.x=e.pageX-t.x,at.mouse.y=e.pageY-t.y;if(!Kn&&(e.preventDefault(),0<=Rt&&((e.which||0==e.which||1==e.which)&&H(e.pageX,e.pageY),P()),at.hotspot==at.emptyHotspot||"poly"==at.hotspot.type)){var n=W(at.mouse.x,at.mouse.y);at.hotspot!=n&&(at.hotspot!=at.emptyHotspot&&(0<Y&&(at.hotspot.k=0),at.skinObj&&at.skinObj.hotspotProxyOut&&at.skinObj.hotspotProxyOut(at.hotspot.id)),n?(at.hotspot=n,at.skinObj&&at.skinObj.hotspotProxyOver&&at.skinObj.hotspotProxyOver(at.hotspot.id),fn.style.cursor="pointer",0<Y&&(et=1,at.hotspot.k=1)):(at.hotspot=at.emptyHotspot,fn.style.cursor="auto",0<Y&&(et=0))),_(e.pageX-t.x,e.pageY-t.y)}}function _(e,t){var n=G;n.enabled&&(at.hotspot!=at.emptyHotspot&&0<=e&&0<=t&&""!=at.hotspot.title?(tr.innerHTML=at.hotspot.title,tr.style.color=X(n.W,n.V),tr.style.backgroundColor=n.background?X(n.t,n.s):"transparent",tr.style.border="solid "+X(n.v,n.u)+" "+n.P+"px",tr.style.borderRadius=n.O+"px",tr.style.textAlign="center",0<n.width?(tr.style.left=e-n.width/2+"px",tr.style.width=n.width+"px"):(tr.style.width="auto",tr.style.left=e-tr.offsetWidth/2+"px"),tr.style.height=0<n.height?n.height+"px":"auto",tr.style.top=t+25+"px",tr.style.visibility="inherit",tr.style.overflow="hidden"):(tr.style.visibility="hidden",tr.innerHTML=""))}function D(e){if(!Kn){e=e?e:window.event,e.preventDefault();if((e.which||0==e.which||1==e.which)&&e.target==at.control){var t=e.pageX,e=e.pageY;Mt=t,_t=e,Dt=t,Pt=e,Qt=t,Gt=e,Rt=1,Jt=(new Date).getTime(),P()}qt=It=0}}function P(){wn&&(wn=u,Nt=bt=pt=0),Nn&&(Nn=u,Nt=bt=pt=0),On=(new Date).getTime()}function H(e,t){jt=e,Ft=t,It=jt-Dt,qt=Ft-Pt,Gn&&(Dt=jt,Pt=Ft)}function B(e,t){var n=at.getVFov();ft+=e*n/Ot,vt+=t*n/Ot,z()}function F(e){Nr=hr.createBuffer(),hr.bindBuffer(hr.ARRAY_BUFFER,Nr),vertices=[-1,-1,1,1,-1,1,1,1,1,-1,1,1];for(i=0;12>i;i++)2>i%3&&(vertices[i]*=e);hr.bufferData(hr.ARRAY_BUFFER,new Float32Array(vertices),hr.STATIC_DRAW),Cr=hr.createBuffer(),hr.bindBuffer(hr.ARRAY_BUFFER,Cr),hr.bufferData(hr.ARRAY_BUFFER,new Float32Array([1,0,0,0,0,1,1,1]),hr.STATIC_DRAW),kr=hr.createBuffer(),hr.bindBuffer(hr.ELEMENT_ARRAY_BUFFER,kr),hr.bufferData(hr.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,0,2,3]),hr.STATIC_DRAW)}function I(){var e,t;if(Sr)for(;0<Sr.length;)hr.deleteTexture(Sr.pop());Sr=[];for(var r=0;6>r;r++)t=hr.createTexture(),t.L=n,t.K=n,t.Z=u,e=new Image,e.crossOrigin="anonymous",e.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAA5JREFUeNpiYBgeACDAAADIAAE3iTbkAAAAAElFTkSuQmCC",t.ta=e,e.addEventListener&&e.addEventListener("load",R(t),u),dn[r]&&(e=new Image,e.crossOrigin="anonymous",e.src=q(dn[r]),t.L=e,e.addEventListener&&e.addEventListener("load",R(t),u),at.checkLoaded.push(e)),Sr.push(t);for(r=0;6>r;r++)hn[r]&&(e=new Image,e.crossOrigin="anonymous",e.src=q(hn[r]),e.addEventListener?e.addEventListener("load",R(Sr[r]),u):e.onload=R(Sr[r]),Sr[r].K=e,at.checkLoaded.push(e));for(r=0;r<Dn.length;r++)Dn[r].va=hr.createTexture()}function q(e){return e?"/"==e.charAt(0)||0<e.indexOf("://")?e:ur+e:ur}function R(e){return function(){try{hr.pixelStorei(hr.UNPACK_FLIP_Y_WEBGL,m);var t=u;e.K!=n&&e.K.complete?(hr.bindTexture(hr.TEXTURE_2D,e),e.Z||(hr.texImage2D(hr.TEXTURE_2D,0,hr.RGBA,hr.RGBA,hr.UNSIGNED_BYTE,e.K),t=e.Z=m)):e.L!=n&&e.L.complete&&(hr.texImage2D(hr.TEXTURE_2D,0,hr.RGBA,hr.RGBA,hr.UNSIGNED_BYTE,e.L),t=m),t&&(hr.texParameteri(hr.TEXTURE_2D,hr.TEXTURE_MAG_FILTER,hr.LINEAR),hr.texParameteri(hr.TEXTURE_2D,hr.TEXTURE_MIN_FILTER,hr.LINEAR),hr.texParameteri(hr.TEXTURE_2D,hr.TEXTURE_WRAP_S,hr.CLAMP_TO_EDGE),hr.texParameteri(hr.TEXTURE_2D,hr.TEXTURE_WRAP_T,hr.CLAMP_TO_EDGE)),hr.bindTexture(hr.TEXTURE_2D,n)}catch(r){}at.dirty=m}}function U(){var e=Math.round(at.Q()),t;for(t=0;t<Dn.length+Pn.length;t++){var n;n=t<Dn.length?Dn[t]:Pn[t-Dn.length],V(e);var r="",r=r+("translate3d(0px,0px,"+e+"px) "),r=r+("rotateX("+vt+"deg) "),r=r+("rotateY("+ -ft+"deg) "),r=r+("rotateY("+n.pan+"deg) "),r=r+("rotateX("+ -n.tilt+"deg) "),i=1e4,s=n.obj.videoWidth,o=n.obj.videoHeight;if(0==s||0==o)s=640,o=480;0<n.n&&(s=n.n),0<n.m&&(o=n.m),0<s&&0<o&&(n.obj.width=s+"px",n.obj.ma=o+"px",n.obj.style.width=s+"px",n.obj.style.ma=o+"px"),0<n.B&&(i=s/(2*Math.tan(n.B/2*Math.PI/180))),r+="translate3d(0px,0px,"+ -i+"px) ",r+="rotateZ("+n.F+"deg) ",r+="rotateY("+ -n.j+"deg) ",r+="rotateX("+n.i+"deg) ",n.J&&1!=n.J&&(r+="scaleY("+n.J+") "),r+="translate3d("+ -s/2+"px,"+ -o/2+"px,0px) ",n.obj.style[lr+"Origin"]="0% 0%",n.l&&(r="",1==n.g&&(i=Math.min(At/s,Ot/o),r+="scale("+i+") "),r+="translate3d("+ -s/2+"px,"+ -o/2+"px,0px) "),n.ka!=r&&(n.ka=r,n.obj.style[lr]=r,n.obj.style.left=Wn+At/2+"px",n.obj.style.top=Xn+Ot/2+"px",n.obj.style.visibility="visible",n.I&&n.ja==n.l&&(n.obj.style[fr]="all 0.05s linear 0s"),n.ja=n.l)}}function z(){var e,t;wt<St&&(wt=St),wt>xt&&(wt=xt),t=at.getVFov()/2,e=180*Math.atan(At/Ot*Math.tan(t*Math.PI/180))/Math.PI,2*t>yt-gt&&(t=(yt-gt)/2),at.setVFov(2*t),90>yt?vt+t>yt&&(vt=yt-t):vt>yt&&(vt=yt),-90<gt?vt-t<gt&&(vt=gt+t):vt<gt&&(vt=gt);if(359.99>ht-ct){var n=0;if(0!=vt){var r,i=Ot/2;r=i*Math.tan(t*Math.PI/180),i/=Math.tan(Math.abs(vt)*Math.PI/180),i-=r,0<i&&(n=180*Math.atan(1/(i/r))/Math.PI,n=n*(ht-ct)/360)}ft+(e+n)>ht&&(ft=ht-(e+n),wn&&(En=-En,pt=0)),ft-(e+n)<ct&&(ft=ct+(e+n),wn&&(En=-En,pt=0)),90<vt+t&&(vt=90-t),-90>vt-t&&(vt=-90+t)}}function W(e,t){for(var n=-1,r=0;r<Mn.length;r++){var i=Mn[r];if("poly"==i.type&&i.p&&0<i.p.length){var s,o,a=u;for(s=0,o=i.p.length-1;s<i.p.length;o=s++){var f=i.p[s];o=i.p[o],f.q>t!=o.q>t&&e<(o.D-f.D)*(t-f.q)/(o.q-f.q)+f.D&&(a=!a)}a&&(n=r)}}return 0<=n?Mn[n]:u}function X(e,t){return e=Number(e),"rgba("+(e>>16&255)+","+(e>>8&255)+","+(e&255)+","+t+")"}function V(e){at.oa!=e&&(at.oa=e,fn.style[cr]=e+"px",fn.style[cr+"Origin"]=Wn+At/2+"px "+(Xn+Ot/2)+"px ")}function $(e,t){if(0==e.length)return e;var n,r,i,s,o,u,a,f=[];n=t.M(e[0])-0;for(s=0;s<e.length;s++){u=s,a=s+1,a==e.length&&(a=0),r=t.M(e[a])-0;if(0<=n&&0<=r)f.push(e[u]);else if(0<=n||0<=r)i=r/(r-n),0>i&&(i=0),1<i&&(i=1),o=new da,o.na(e[u],e[a],i),0>n||f.push(e[u]),f.push(o);n=r}return f}function J(){var e={x:0,y:0},t=rn;if(t.offsetParent)do e.x+=t.offsetLeft,e.y+=t.offsetTop;while(t=t.offsetParent);return e}function K(){at.setViewerSize(at.A.offsetWidth,at.A.offsetHeight)}function Q(e){if(debug=document.getElementById("debug"))debug.innerHTML=e+"<br />";window.console&&window.console.log(e)}function ot(e){var t="",n,r,i="",s,o="",u=0,e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(u++)),r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(u++)),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(u++)),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(u++)),n=n<<2|r>>4,r=(r&15)<<4|s>>2,i=(s&3)<<6|o,t+=String.fromCharCode(n),64!=s&&(t+=String.fromCharCode(r)),64!=o&&(t+=String.fromCharCode(i));while(u<e.length);return t}function ut(e,t){var n=this;n.qa=e,n.hotspot=t,n.__div=document.createElement("div"),n.R=document.createElement("img");var r;n.R.setAttribute("src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA5xJREFUeNqclmlIVFEUx997TjrplFQW2WKBBSYtRFlpWUILSSsRZRQIBdGHCFqIoKIvQRsUFRJC9LEgaSFbMMpcWi1pLzOLsjItKms0U5t5/c/wH7nc5o2jF374xrv87z33nHOPaRsRtbFgDpgJxoD+wATfwDNQDK6CyrCr5OcbhgiGIRsUAZt4QTWoIFXgp9JfAhY7rgdBl8NeBoLDYBloA+dBOagFTcDHcVEgDgwBGWA+OAcugvXgvb5wKMGJoAAMp9BpUA96EBf/Btsf8BI8AWfAErAcpHHDZeriliY2AVwDg8AucAQ0Ag+I4XhTm2Oxz8PT46KMbTx5EZjuJDgAnAVusJUm9DhYwalFcc59sIXXIaceFkowDySBPTRPL20xm+b7zYXa+N3CPrWJ6GuwGySA40HLBHc/GywFhbS5R1lEBrZy7FQwiSaX9pmnqeAYt+KUcew7BVZw/QKTq0ocpYPVvDOXItZCk2xgDIZqL8BR8Ab0VDbr4yZOgLeIwzQx6WiQxcCt1+6sld66L4yYtFSwF4yg2dU7/cEwGW9YVkAwmycp1dzdpvgm0DcCh4kHmxWzBls0uBX4qqmZJ4KzePm1IeJLgjmlC16aDKZpp5Q168B3o6wsSwTHgU+MIUs74RSj6y1d+212HKimJlUE+tFRfJpYtOKNXWmJTASqWf2Bu/R6+4TKHOrOzG4IhptjWgHbGkZvepQ6SQK7oRuCXzjX1DJavBEX1ygfT8FgBqpfm1zRDcEKbR2bsZlkJCdXieB1ZhZ5YtqVgXIPN+m9kbY6hpdb+d9fPncJRmZmqQheZkemJmgxyxykl3XWJEkcAl7N21s7PDcl5ZJ0PAa3wVwmWtVbZafPwQ7wLozYB7ATPNJO56d/LAikP9u+66KNJS1d4IOZp7wU0hfLukUyzgwm70T2N/DOxIy/eFdqawa5DL2NEGwP5k15Ja4woz9glvcomd9NzyvkFcQo5gomaLfm5c0svnKZ2k7q7+FauvR2MJKZR3+sY5WgtvkdG6JyELGhNHMTXyGfLviRJ5Tcd4Dlhle7086Sgp8CqVxDkn4OqHaqacr5ekjy3Q/W0FRNNGmoMtamdzdxsytZC0lqXKhEgWPVVgImg2NgFT1MHOoOk3yLEtgWN5TEOYvoIFI1rGM19//2wpAD7imF7lfwENwAxaASNCj90pcLLKdC2Iyw1M9gnEplMEp5kOU1f8WwKGJm8oUr9f8JMAAVMDM6HSDa9QAAAABJRU5ErkJggg%3D%3D"),n.R.setAttribute("style","position: absolute;top: -14px;left: -14px;display:none;"),n.__div.appendChild(n.R),r="position:absolute;"+(ar+"user-select: none;"),n.__div.setAttribute("style",r),n.__div.onclick=function(){n.qa.openUrl(t.url,t.target)};var i=G;i.enabled&&(n.text=document.createElement("div"),r="position:absolute;"+("left: -"+t.w/2+"px;"),r=r+"top:  20px;"+("width: "+t.w+"px;"),r=0==t.h?r+"height: auto;":r+("height: "+t.h+"px;"),t.wordwrap?r=r+"white-space: pre-wrap;"+("width: "+t.w+"px;"):(r=0==t.h?r+"width: auto;":r+("width: "+t.w+"px;"),r+="white-space: nowrap;"),r+=ar+"transform-origin: 50% 50%;",n.text.setAttribute("style",r+"visibility:block;border: 1px solid #000000;background-color: #ffffff;text-align: center;padding: 0px 1px 0px 1px;"),n.text.style.color=X(i.W,i.V),n.text.style.backgroundColor=i.background?X(i.t,i.s):"transparent",n.text.style.border="solid "+X(i.v,i.u)+" "+i.P+"px",n.text.style.borderRadius=i.O+"px",n.text.style.textAlign="center",n.text.style.width=0<i.width?i.width+"px":"auto",n.text.style.height=0<i.height?i.height+"px":"auto",n.text.style.overflow="block",n.text.innerHTML=t.title,n.__div.onmouseover=function(){0==t.h&&(w=n.text.offsetWidth,n.text.style.left=-w/2+"px"),n.text.style.visibility="inherit"},n.__div.onmouseout=function(){n.text.style.visibility="block"},n.__div.appendChild(n.text))}var G,Y,Z,et,tt,nt,rt,it,st,at=this;at.transitionsDisabled=u;var ft=0,lt=0,ct=0,ht=360,pt=0,dt=0,vt=0,mt=0,gt=-90,yt=90,bt=0,wt=90,Et=90,St=1,xt=170,Tt=0,Nt=0,Ct=0,kt,Lt,At=320,Ot=480,Mt=0,_t=0,Dt=0,Pt=0,Ht=0,Bt=0,jt=0,Ft=0,It=0,qt=0,Rt=-1,Ut=0,zt=0,Wt=0,Xt=0,Vt=0,$t=0,Jt,Kt=m,Qt=0,Gt=0,Yt=0,Zt=0,en=u,tn=0,nn=0,rn=n,sn=n,on=n,un=n,an=n,fn=n,ln=n;at.control=n,at.cubeFaces=[],at.cubeFacesOverlay=[],at.checkLoaded=[],at.isFullscreen=u,at.dirty=u,at.divSkin=n,at.isLoaded=u,at.hasConfig=u,at.startNode="",at.onMoveComplete=n;var cn=0,hn=[],pn=[],dn=[],vn=1,mn=1,gn=u,yn=u,bn=5,wn=u,En=.4,Sn=0,xn=0,Tn,Nn=u,Cn=.1,kn=0,Ln=0,An,On;at.skinObj=n,at.userdata={},at.userdata.title="",at.userdata.description="",at.userdata.author="",at.userdata.datetime="",at.userdata.copyright="",at.userdata.source="",at.userdata.information="",at.userdata.comment="",at.userdata.tags=[];var Mn=[];at.emptyHotspot={pan:0,tilt:0,title:"",url:"",target:"",id:"",skinid:"",w:100,h:20,wordwrap:u,obj:n,type:"empty"};var _n=[],Dn=[],Pn=[],Hn=[],Bn=[],jn=1,Fn=0,In=.01,qn=2,Rn=0,Un=u,zn=u,Wn=0,Xn=0,Vn=0,$n=0,Jn=u,Kn=u,Qn=u,Gn=m,Yn=u,Zn=1,er=m;Y=1,Z=0,et=0,tt=255,nt=1,rt=255,it=.3,G={enabled:m,width:180,height:20,W:0,V:1,background:m,t:16777215,s:1,v:0,u:1,O:3,P:1,wordwrap:m},st=void 0,at.hotspot=at.emptyHotspot;var tr=n;at.mouse={x:0,y:0};var nr=u,rr=u,ir=u,sr=m,or=u,ur="",ar="",fr="transition",lr="transform",cr="perspective",hr,pr=new da,dr=new da,vr=new da,mr=new da,gr=new da;at.S=u;var yr="",br=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,10)}}();at.detectBrowser=function(){var e=["Webkit","Moz","O","ms","Ms"],t;ar="",fr="transition",lr="transform",cr="perspective";for(t=0;t<e.length;t++)"undefined"!=typeof document.documentElement.style[e[t]+"Transform"]&&(ar="-"+e[t].toLowerCase()+"-",fr=e[t]+"Transition",lr=e[t]+"Transform",cr=e[t]+"Perspective");ir=lc(),nr=mc(),Q((ir?"CSS 3D available":"CSS 3D not available")+", "+(nr?"WebGL available":"WebGL not available"))},at.getPercentLoaded=function(){return cn},at.setBasePath=function(e){ur=e},at.Q=function(){return 1*Ot/(2*Math.tan(Math.PI/180*(at.getVFov()/2)))},at.setViewerSize=function(e,t){at.isFullscreen&&(e=window.innerWidth,t=window.innerHeight);var n=e-Wn-Vn,r=t-Xn-$n;rn.style.width=n+"px",rn.style.height=r+"px",rn.style.left=Wn+"px",rn.style.top=Xn+"px";if(nr)try{sn&&(sn.width=n,sn.height=r),hr&&(hr.ea=n,hr.da=r,hr.viewport(0,0,n,r))}catch(i){alert(i)}fn.style.width=e+"px",fn.style.height=t+"px",ln.style.width=e+"px",ln.style.height=t+"px",ln.width=e,ln.height=t,at.updatePanorama(),at.divSkin&&at.divSkin.ggUpdateSize&&at.divSkin.ggUpdateSize(e,t)},at.setMargins=function(e,t,n,r){Wn=e,Xn=t,Vn=n,$n=r,K()},at.changeViewMode=function(e){0==e&&(Gn=u),1==e&&(Gn=m),2==e&&(Gn=Gn?u:m)};var wr;at.getVFov=function(){var e;switch(Ct){case 0:e=wt/2;break;case 1:e=180*Math.atan(Ot/At*Math.tan(wt/2*Math.PI/180))/Math.PI;break;case 2:e=180*Math.atan(Ot/Math.sqrt(At*At+Ot*Ot)*Math.tan(wt/2*Math.PI/180))/Math.PI;break;case 3:e=4*Ot/3>At?wt/2:180*Math.atan(4*Ot/(3*At)*Math.tan(wt/2*Math.PI/180))/Math.PI}return 2*e},at.setVFov=function(e){var e=e/2,t;switch(Ct){case 0:wt=2*e;break;case 1:e=180*Math.atan(At/Ot*Math.tan(e*Math.PI/180))/Math.PI,wt=2*e;break;case 2:t=Math.sqrt(At*At+Ot*Ot),e=180*Math.atan(t/Ot*Math.tan(e*Math.PI/180))/Math.PI,wt=2*e;break;case 3:4*Ot/3>At||(e=180*Math.atan(3*At/(4*Ot)*Math.tan(e*Math.PI/180))/Math.PI),wt=2*e}},at.updatePanorama=function(){var e=new da(0,0,-100),t=at.Q(),n=Math.atan2(At/2+1,t),r=Math.atan2(Ot/2+1,t),i=Math.sin(n),s=Math.sin(r),n=Math.cos(n),r=Math.cos(r);pr.o(0,0,-1),dr.o(n,0,-i),vr.o(-n,0,-i),mr.o(0,r,-s),gr.o(0,-r,-s);for(i=0;i<Mn.length;i++){var s=Mn[i],o;"point"==s.type&&(e.o(0,0,-100),e.i(-s.tilt*Math.PI/180),e.j(s.pan*Math.PI/180),e.j(-ft*Math.PI/180),e.i(vt*Math.PI/180),n=u,.1>e.a?(o=-t/e.a,r=e.x*o,o*=e.y,Math.abs(r)<At/2+500&&Math.abs(o)<Ot/2+500&&(n=m)):o=r=0,s.obj&&s.obj.__div&&(s.obj.__div.style[fr]="none",s.obj.ggUse3d?n?(V(t),s.obj.__div.style.width="1px",s.obj.__div.style.height="1px",hs="",hs+="translate3d(0px,0px,"+t+"px) ",hs+="rotateX("+vt+"deg) ",hs+="rotateY("+ -ft+"deg) ",hs+="rotateY("+s.pan+"deg) ",hs+="rotateX("+ -s.tilt+"deg) ",hs+="translate3d(0px,0px,"+ -1*s.obj.gg3dDistance+"px) ",s.obj.__div.style[lr+"Origin"]="0% 0%",s.obj.__div.style[lr]=hs,s.obj.__div.style.left=Wn+At/2+"px",s.obj.__div.style.top=Xn+Ot/2+"px",s.obj.__div.style.visibility="visible"):(s.obj.__div.style[lr]="",s.obj.__div.style.visibility="hidden"):n?(s.obj.__div.style.left=Wn+r+At/2+"px",s.obj.__div.style.top=Xn+o+Ot/2+"px",s.obj.__div.style[lr]=""):(s.obj.__div.style.left="-100px",s.obj.__div.style.top="-100px",s.obj.__div.style[lr]="scale(0,0)")));if("poly"==s.type){for(var a=[],n=0;n<s.H.length;n++)r=s.H[n],e.o(0,0,-100),e.i(-r.tilt*Math.PI/180),e.j(r.pan*Math.PI/180),e.j(-ft*Math.PI/180),e.i(vt*Math.PI/180),a.push(e.ha());r=a,r=$(r,pr),r=$(r,dr),r=$(r,vr),r=$(r,mr),a=r=$(r,gr);if(0<a.length)for(n=0;n<a.length;n++)e=a[n],.1>e.a?(o=-t/e.a,r=At/2+e.x*o,o=Ot/2+e.y*o):o=r=0,e.D=r,e.q=o;s.p=a}}if(ln&&(st!=Y&&(st=Y,ln.style.visibility=0<Y?"inherit":"hidden"),0<Y)){wr||(wr=ln.getContext("2d"));if(wr.width!=At||wr.height!=Ot)wr.width=At,wr.height=Ot;wr.clear?wr.clear():wr.clearRect(0,0,ln.width,ln.height),e=1,3==Y&&(e=Z);for(t=0;t<Mn.length;t++)if(i=Mn[t],"poly"==i.type&&(s=i.p,2==Y&&(e=i.c),wr.fillStyle=X(i.t,i.s*e),wr.strokeStyle=X(i.v,i.u*e),0<s.length)){wr.beginPath();for(j=0;j<s.length;j++)v=s[j],0==j?wr.moveTo(v.D,v.q):wr.lineTo(v.D,v.q);wr.closePath(),wr.stroke(),wr.fill()}}if(nr){z();if(At!=rn.offsetWidth||Ot!=rn.offsetHeight)At=parseInt(rn.offsetWidth),Ot=parseInt(rn.offsetHeight);sr&&(at.initWebGL(0),K());if(hr){hr.clear(hr.COLOR_BUFFER_BIT|hr.DEPTH_BUFFER_BIT),ob(Tr),s=at.getVFov(),t=hr.ea/hr.da,s=.1*Math.tan(s*Math.PI/360),t*=s,e=-t,i=-s,(r=Tr)||(r=new glMatrixArrayType(16)),n=t-e,a=s-i,r[0]=.2/n,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=.2/a,r[6]=0,r[7]=0,r[8]=(t+e)/n,r[9]=(s+i)/a,r[10]=-100.1/99.9,r[11]=-1,r[12]=0,r[13]=0,r[14]=-20/99.9,r[15]=0,hr.uniformMatrix4fv(Er.aa,u,Tr);for(v=0;6>v;v++)ob(xr),kc(xr,-vt*Math.PI/180,[1,0,0]),kc(xr,(180-ft)*Math.PI/180,[0,1,0]),4>v?kc(xr,-Math.PI/2*v,[0,1,0]):kc(xr,Math.PI/2*(5==v?1:-1),[1,0,0]),hr.bindBuffer(hr.ARRAY_BUFFER,Nr),hr.vertexAttribPointer(Er.ca,3,hr.FLOAT,u,0,0),hr.bindBuffer(hr.ARRAY_BUFFER,Cr),hr.vertexAttribPointer(Er.ba,2,hr.FLOAT,u,0,0),hr.activeTexture(hr.TEXTURE0),hr.bindTexture(hr.TEXTURE_2D,Sr[v]),hr.bindBuffer(hr.ELEMENT_ARRAY_BUFFER,kr),hr.uniform1i(Er.ra,0),hr.uniformMatrix4fv(Er.pa,u,xr),hr.uniformMatrix4fv(Er.aa,u,Tr),hr.drawElements(hr.TRIANGLES,6,hr.UNSIGNED_SHORT,0)}}else{z(),t=u;if(At!=rn.offsetWidth||Ot!=rn.offsetHeight)At=parseInt(rn.offsetWidth),Ot=parseInt(rn.offsetHeight),rn.style[lr+"OriginX"]=At/2+"px",rn.style[lr+"OriginY"]=Ot/2+"px",t=m;e=Math.round(at.Q());if(at.T!=e||t)at.T=e,rn.style[cr]=e+"px";if(an&&un)an.style[lr]="translate3d("+At/2+"px,"+Ot/2+"px,"+e+"px)",un.style[lr]="rotateX("+Number(vt).toFixed(10)+"deg)  rotateY("+Number(-ft).toFixed(10)+"deg)";else for(t=0;6>t;t++)if(i=at.cubeFaces[t])s="translate3d("+At/2+"px,"+Ot/2+"px,"+e+"px) ",s+="rotateX("+Number(vt).toFixed(10)+"deg)  rotateY("+Number(-ft).toFixed(10)+"deg) ",i.Y&&(s+=i.Y,i.style.transform=s)}U()};var Er;at.initWebGL=function(e){sr=u;try{if(sn=e?e:document.createElement("canvas"),sn.width=100,sn.height=100,rn.appendChild(sn),(hr=sn.getContext("webgl"))||(hr=sn.getContext("experimental-webgl")),hr){hr.ea=500,hr.da=500,hr.clearColor(0,0,0,0),hr.enable(hr.DEPTH_TEST),hr.viewport(0,0,500,500),hr.clear(hr.COLOR_BUFFER_BIT|hr.DEPTH_BUFFER_BIT),hr.enable(hr.TEXTURE_2D);var t=hr.createShader(hr.FRAGMENT_SHADER);hs="#ifdef GL_ES\n",hs+="precision highp float;\n",hs+="#endif\n",hs+="varying vec2 vTextureCoord;\n",hs+="uniform sampler2D uSampler;\n",hs+="void main(void) {\n",hs+="    gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.s, vTextureCoord.t));\n",hs+="}\n",hr.shaderSource(t,hs),hr.compileShader(t),hr.getShaderParameter(t,hr.COMPILE_STATUS)||(alert(hr.getShaderInfoLog(t)),t=n);var r=hr.createShader(hr.VERTEX_SHADER);hs="attribute vec3 aVertexPosition;\n",hs+="attribute vec2 aTextureCoord;\n",hs+="uniform mat4 uMVMatrix;\n",hs+="uniform mat4 uPMatrix;\n",hs+="varying vec2 vTextureCoord;\n",hs+="void main(void) {\n",hs+="    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);\n",hs+="    vTextureCoord = aTextureCoord;\n",hs+="}\n",hr.shaderSource(r,hs),hr.compileShader(r),hr.getShaderParameter(r,hr.COMPILE_STATUS)||(alert(hr.getShaderInfoLog(r)),r=n),Er=hr.createProgram(),hr.attachShader(Er,r),hr.attachShader(Er,t),hr.linkProgram(Er),hr.getProgramParameter(Er,hr.LINK_STATUS)||alert("Could not initialise shaders"),hr.useProgram(Er),Er.ca=hr.getAttribLocation(Er,"aVertexPosition"),hr.enableVertexAttribArray(Er.ca),Er.ba=hr.getAttribLocation(Er,"aTextureCoord"),hr.enableVertexAttribArray(Er.ba),Er.aa=hr.getUniformLocation(Er,"uPMatrix"),Er.pa=hr.getUniformLocation(Er,"uMVMatrix"),Er.ra=hr.getUniformLocation(Er,"uSampler"),F(mn),I()}}catch(i){Q(i)}hr?nr=m:alert("Could not initialise WebGL!")};var Sr=[],xr=new glMatrixArrayType(16),Tr=new glMatrixArrayType(16),Nr,Cr,kr;at.getPan=function(){return ft},at.getPanDest=function(){return kn},at.getPanN=function(){for(var e=ft;-180>e;)e+=360;for(;180<e;)e-=360;return e},at.getPanNorth=function(){for(var e=ft-dt;-180>e;)e+=360;for(;180<e;)e-=360;return e},at.setPan=function(e){P(),isNaN(e)||(ft=Number(e)),at.dirty=m},at.changePan=function(e,t){at.setPan(at.getPan()+e),t&&(pt=e)},at.getTilt=function(){return vt},at.getTiltDest=function(){return Ln},at.setTilt=function(e){P(),isNaN(e)||(vt=Number(e)),at.dirty=m},at.changeTilt=function(e,t){at.setTilt(at.getTilt()+e),t&&(bt=e)},at.getFov=function(){return wt},at.getFovDest=function(){return An},at.setFov=function(
e){P();if(!isNaN(e)&&0<e&&180>e){var t=wt;wt=Number(e),z(),at.dirty|=t!=wt}},at.changeFov=function(e,t){at.setFov(at.getFov()+e),t&&(Nt=e)},at.changeFovLog=function(e,t){if(!isNaN(e)){var n;n=e/90*Math.cos(wt*Math.PI/360),n=wt*Math.exp(n),at.setFov(n),t&&(Nt=e)}},at.setPanTilt=function(e,t){P(),isNaN(e)||(ft=e),isNaN(t)||(vt=t),at.dirty=m},at.setPanTiltFov=function(e,t,n){P(),isNaN(e)||(ft=e),isNaN(t)||(vt=t),!isNaN(n)&&0<n&&180>n&&(wt=n),at.dirty=m},at.setDefaultView=function(){at.setPanTiltFov(lt,mt,Et)},at.setLocked=function(e){at.setLockedMouse(e),at.setLockedWheel(e),at.setLockedKeyboard(e)},at.setLockedMouse=function(e){Kn=e},at.setLockedKeyboard=function(e){Jn=e},at.setLockedWheel=function(e){Qn=e},at.moveTo=function(e,t,n,r){P(),Nn=m;var i=e.toString().split("/");1<i.length&&(e=Number(i[0]),r=t,t=Number(i[1]),2<i.length&&(n=Number(i[2]))),kn=isNaN(e)?ft:e,Ln=isNaN(t)?vt:t,An=!isNaN(n)&&0<n&&180>n?n:wt,Cn=!isNaN(r)&&0<r?r:1},at.moveToDefaultView=function(e){at.moveTo(lt,mt,Et,e)},at.isTouching=function(){return at.d!=n},P(),at.ga=function(){var e;e=fn,at.control=e,h(),setTimeout(function(){p()},10),setTimeout(function(){K(),at.updatePanorama()},10),e.addEventListener?(e.addEventListener("touchstart",L,u),e.addEventListener("touchmove",k,u),e.addEventListener("touchend",C,u),e.addEventListener("touchcancel",N,u),e.addEventListener("gesturestart",T,u),e.addEventListener("gesturechange",x,u),e.addEventListener("gestureend",S,u),e.addEventListener("mousedown",D,u),e.addEventListener("mousemove",M,u),document.addEventListener("mouseup",O,u),e.addEventListener("mousedblclick",at.toggleFullscreen,u),e.addEventListener("mousewheel",A,u),e.addEventListener("DOMMouseScroll",A,u),document.addEventListener("keydown",E,u),document.addEventListener("keyup",b,u),window.addEventListener("orientationchange",h,u),window.addEventListener("resize",K,u),window.addEventListener("blur",y,u),on.addEventListener("webkitfullscreenchange",g,u),document.addEventListener("mozfullscreenchange",g,u),window.addEventListener("webkitfullscreenchange",g,u)):e.attachEvent&&(e.attachEvent("onmousedown",D),e.attachEvent("onmousemove",M),document.attachEvent("onmouseup",O),e.attachEvent("onmousedblclick",at.toggleFullscreen),e.attachEvent("onmousewheel",A),document.attachEvent("onkeydown",E),document.attachEvent("onkeyup",b),window.attachEvent("onresize",K),window.attachEvent("onblur",y)),e.oncontextmenu=function(e){return void 0===e&&(e=window.event),!e.ctrlKey&&(e="<<L>>","U"!=e.charAt(2))?(c(),u):m}},at.addHotspotElements=function(){for(var e=0;e<Mn.length;e++)if("point"==Mn[e].type&&(Mn[e].obj=at.skinObj&&at.skinObj.addSkinHotspot?new at.skinObj.addSkinHotspot(Mn[e]):new ut(this,Mn[e]),Mn[e].obj&&Mn[e].obj.__div)){var t=fn.firstChild;t?fn.insertBefore(Mn[e].obj.__div,t):fn.appendChild(Mn[e].obj.__div)}},at.isPlaying=function(e){return"_main"==e?m:(e=s(e))?!e.obj.ended&&!e.obj.paused:u},at.playSound=function(e,t){var n=s(e);n&&(n.obj.e=t&&!isNaN(Number(t))?Number(t)-1:n.loop-1,-1==n.obj.e&&(n.obj.e=1e7),n.obj.play())},at.playPauseSound=function(e){at.isPlaying(e)?at.pauseSound(e):at.playSound(e)},at.pauseSound=function(e){if("_main"==e){for(e=0;e<_n.length;e++)_n[e].obj.pause();for(e=0;e<Dn.length;e++)Dn[e].obj.pause()}else(e=s(e))&&e.obj.pause()},at.stopSound=function(e){if("_main"==e){for(e=0;e<_n.length;e++)_n[e].obj.pause(),_n[e].obj.currentTime=0;for(e=0;e<Dn.length;e++)Dn[e].obj.pause(),Dn[e].obj.currentTime=0}else if(e=s(e))e.obj.pause(),e.obj.currentTime=0},at.setVolume=function(e,t){var n=Number(t);1<n&&(n=1),0>n&&(n=0);if("_main"==e){jn=n;for(n=0;n<_n.length;n++)_n[n].obj.volume=_n[n].b*jn;for(n=0;n<Dn.length;n++)Dn[n].obj.volume=Dn[n].b*jn}else{var r=s(e);r&&(r.b=n,r.obj.volume=n*jn)}},at.changeVolume=function(e,t){if("_main"==e){var n=jn,n=n+Number(t);1<n&&(n=1),0>n&&(n=0),jn=n;for(n=0;n<_n.length;n++)_n[n].obj.volume=_n[n].b*jn}else{var r=s(e);r&&(n=r.b,n+=Number(t),1<n&&(n=1),0>n&&(n=0),r.b=n,r.obj.volume=n*jn)}},at.removeHotspots=function(){for(var e;0<Mn.length;)e=Mn.pop(),e.obj&&(fn.removeChild(e.obj.__div),delete e.obj),e.obj=n},at.setFullscreen=function(e){at.isFullscreen!=e&&(at.isFullscreen=e,at.dirty=m);if(at.isFullscreen){try{on.webkitRequestFullScreen?on.webkitRequestFullScreen():on.mozRequestFullScreen?on.mozRequestFullScreen():on.requestFullScreen?on.requestFullScreen():on.requestFullscreen&&on.requestFullscreen()}catch(t){Q(t)}on.style.position="absolute",e=J(),on.style.left=window.pageXOffset-e.x+Wn+"px",on.style.top=window.pageYOffset-e.y+Xn+"px",document.body.style.overflow="hidden",at.divSkin&&at.divSkin.ggEnterFullscreen&&at.divSkin.ggEnterFullscreen()}else{try{document.webkitIsFullScreen?document.webkitCancelFullScreen():document.mozFullScreen?document.mozCancelFullScreen():document.fullScreen&&(document.cancelFullScreen?document.cancelFullScreen():document.exitFullscreen&&document.exitFullscreen())}catch(n){Q(n)}on.style.position="relative",on.style.left="0px",on.style.top="0px",document.body.style.overflow="",at.divSkin&&at.divSkin.ggExitFullscreen&&at.divSkin.ggExitFullscreen()}K()},at.toggleFullscreen=function(){at.setFullscreen(!at.isFullscreen)},at.enterFullscreen=function(){at.setFullscreen(m)},at.exitFullscreen=function(){at.setFullscreen(u)},at.startAutorotate=function(e,t,n){wn=yn=m,Tn=(new Date).getTime(),e&&0!=e&&(En=e),t&&(bn=t),n&&(Sn=n)},at.stopAutorotate=function(){yn=wn=u},at.toggleAutorotate=function(){(wn=yn=!wn)&&(Tn=(new Date).getTime())},at.createLayers=function(e){at.A=document.getElementById(e),at.A?(at.A.innerHTML="",on=document.createElement("div"),on.setAttribute("style","top:  0px;left: 0px;position:relative;"),at.A.appendChild(on),rn=document.createElement("div"),e="top:  0px;left: 0px;width:  100px;height: 100px;overflow: hidden;position:absolute;z-index: 0;"+(ar+"user-select: none;"),rn.setAttribute("style",e),on.appendChild(rn),fn=document.createElement("div"),e="top:  0px;left: 0px;width:  100px;height: 100px;overflow: hidden;position:absolute;z-index: 1000;",0<=navigator.userAgent.indexOf("MSIE")&&(e+="background-image: url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);"),e+=ar+"user-select: none;",fn.setAttribute("style",e),on.appendChild(fn),ln=document.createElement("canvas"),e="top:  0px;left: 0px;width:  100px;height: 100px;overflow: hidden;position:absolute;z-index: 900;"+(ar+"user-select: none;"),ln.setAttribute("style",e),on.appendChild(ln),tr=document.createElement("div"),tr.setAttribute("style","top:  0px;left: 0px;position:absolute;padding: 3px;visibility: hidden;z-index: 1100;"),tr.innerHTML=" Hotspot text!",on.appendChild(tr),at.divSkin=fn):alert("container not found!")},at.createCube=function(){var e;an=document.createElement("div"),e="position:absolute;"+(ar+"user-select: none;"),e+=ar+"transform-style: preserve-3d;",an.setAttribute("style",e+"z-Index: 100;"),rn.appendChild(an),un=document.createElement("div"),e=ar+"transform-style: preserve-3d;",e+=ar+"transform-origin: 0 0;",e=e+"position:absolute;"+(ar+"user-select: none;"),un.setAttribute("style",e+"z-Index: 100;"),an.appendChild(un);var t,n;gn=m;var r=128;vn>r&&(r=vn);for(n=0;6>n;n++)t=document.createElement("img"),gn?""!=dn[n]&&t.setAttribute("src",q(dn[n])):t.setAttribute("src",q(hn[n])),e="position:absolute;",e+="left: 0px;",e+="top: 0px;",e+="width: "+r+"px;",e+="height: "+r+"px;",e+="z-index: 100;",e+=ar+"transform-origin: 0 0;",e+=ar+"transform: ",e=4>n?e+("rotateY("+ -90*n+"deg)"):e+("rotateX("+(4==n?-90:90)+"deg)"),e+=" scale("+mn+") translate3d("+ -r/2+"px,"+ -r/2+"px,"+ -r/2+"px);",t.setAttribute("style",e),un.appendChild(t),at.cubeFaces.push(t),at.checkLoaded.push(t),""!=pn[n]&&(t=document.createElement("img"),t.setAttribute("src",q(pn[n])),e="position:absolute;",e+="left: 0px;",e+="top: 0px;",e+="width: "+r/1.1+"px;",e+="height: "+r/1.1+"px;",e+="z-index: 100;",e+=ar+"transform-origin: 0 0;",e+=ar+"transform: ",e=4>n?e+("rotateY("+ -90*n+"deg)"):e+("rotateX("+(4==n?-90:90)+"deg)"),e+=" scale("+mn+") translate3d("+ -r/2.2+"px,"+ -r/2.2+"px,"+ -r/2.2+"px);",t.setAttribute("style",e),t.style.opacity=0,un.appendChild(t),at.cubeFacesOverlay.push(t),at.checkLoaded.push(t))},at.ia=function(){var e;un=an=n;var t,r;gn=m;var i=128;vn>i&&(i=vn);for(r=0;6>r;r++){t=document.createElement("img"),gn?""!=dn[r]&&t.setAttribute("src",q(dn[r])):t.setAttribute("src",q(hn[r])),e="position:absolute;",e+="left: 0px;",e+="top: 0px;",e+="width: "+i+"px;",e+="height: "+i+"px;",e+="z-index: 100;",e+=ar+"-transform-style: preserve-3d;",e+=ar+"transform-origin: 0 0;",e+=ar+"transform: ";var s;s="",s=4>r?s+("rotateY("+ -90*r+"deg)"):s+("rotateX("+(4==r?-90:90)+"deg)"),s+=" scale("+mn+") translate3d("+ -i/2+"px,"+ -i/2+"px,"+ -i/2+"px)",e+=s+";",t.Y=s,t.setAttribute("style",e),rn.appendChild(t),at.cubeFaces.push(t),at.checkLoaded.push(t)}},at.finalPanorama=function(){var e;if(rr)for(e=0;6>e;e++)at.cubeFaces[e].setAttribute("src",q(hn[e]))},at.setOverlayOpacity=function(e){var t;if(rr)for(t=0;6>t;t++)at.cubeFacesOverlay[t]&&at.cubeFacesOverlay[t].style&&(at.cubeFacesOverlay[t].style.opacity=e)},at.removePanorama=function(){var e;if(rr){for(e=0;e<at.cubeFaces.length;e++)at.cubeFaces[e].setAttribute("src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAA5JREFUeNpiYBgeACDAAADIAAE3iTbkAAAAAElFTkSuQmCC"),at.cubeFacesOverlay[e]&&at.cubeFacesOverlay[e].setAttribute("src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAA5JREFUeNpiYBgeACDAAADIAAE3iTbkAAAAAElFTkSuQmCC");an&&rn.removeChild(an),an=un=n,at.cubeFaces=[],at.cubeFacesOverlay=[]}if(hr&&Sr)for(;0<Sr.length;)hr.deleteTexture(Sr.pop());for(e=0;e<Dn.length;e++)fn.removeChild(Dn[e].obj);for(e=0;e<Pn.length;e++)fn.removeChild(Pn[e].obj);var t=[];for(e=0;e<_n.length;e++){var r=_n[e];if(0==r.mode||1==r.mode||r.ua)t.push(r);else{try{r.obj.pause()}catch(i){Q(i)}on.removeChild(r.obj)}}_n=t,Dn=[],Pn=[]},at.getScreenResolution=function(){var e=1,t=-1!=navigator.userAgent.indexOf("Mac");return window.devicePixelRatio&&t&&(e=window.devicePixelRatio),{w:screen.width*e,h:screen.height*e}},at.getMaxScreenResolution=function(){var e=at.getScreenResolution();return e.w>e.h?e.w:e.h},at.readConfigString=function(e){window.DOMParser?(parser=new DOMParser,xmlDoc=parser.parseFromString(e,"text/xml")):(xmlDoc=new ActiveXObject("Microsoft.XMLDOM"),xmlDoc.async="false",xmlDoc.loadXML(e)),at.readConfigXml(xmlDoc)},at.readConfigUrl=function(e,t){try{var r;r=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),r.open("GET",e,u),r.send(n);if(r.responseXML){var i=e.lastIndexOf("/");0<=i&&(ur=e.substr(0,i+1)),2<=arguments.length&&(ur=t),at.readConfigString(r.responseText)}else alert("Error loading panorama XML")}catch(s){alert("Error:"+s)}};var Lr=m;at.readConfigXml=function(e){var t=e.firstChild;Hn=[],Bn=[];if("tour"==t.nodeName){var e="",n;(n=t.getAttributeNode("start"))&&(e=n.nodeValue.toString()),""!=at.startNode&&(e=at.startNode,at.startNode="");for(t=t.firstChild;t;)n="","panorama"==t.nodeName&&(n=t.getAttributeNode("id"))&&(n=n.nodeValue.toString(),""==e&&(e=n),Hn[n]=t,Bn.push(n)),t=t.nextSibling;at.U(Hn[e]),r("{"+e+"}"),at.S=m}else at.S=u,at.U(t),r("")},at.U=function(e){at.removeHotspots(),at.removePanorama(),at.T=0;for(var e=e.firstChild,r,i,s,f=1e6;e;){if("view"==e.nodeName){(i=e.getAttributeNode("fovmode"))&&(Ct=Number(i.nodeValue)),i=e.getAttributeNode("pannorth"),dt=1*(i?i.nodeValue:0);for(r=e.firstChild;r;)"start"==r.nodeName&&(i=r.getAttributeNode("pan"),lt=ft=Number(i?i.nodeValue:0),i=r.getAttributeNode("tilt"),mt=vt=Number(i?i.nodeValue:0),i=r.getAttributeNode("fov"),Et=wt=Number(i?i.nodeValue:70)),"min"==r.nodeName&&(i=r.getAttributeNode("pan"),ct=1*(i?i.nodeValue:0),i=r.getAttributeNode("tilt"),gt=1*(i?i.nodeValue:-90),i=r.getAttributeNode("fov"),St=1*(i?i.nodeValue:5),1e-8>St&&(St=1e-8)),"max"==r.nodeName&&(i=r.getAttributeNode("pan"),ht=1*(i?i.nodeValue:0),i=r.getAttributeNode("tilt"),yt=1*(i?i.nodeValue:90),i=r.getAttributeNode("fov"),xt=1*(i?i.nodeValue:120),180<=xt&&(xt=179.9)),r=r.nextSibling}"autorotate"==e.nodeName&&((i=e.getAttributeNode("speed"))&&(En=1*i.nodeValue),(i=e.getAttributeNode("delay"))&&(bn=1*i.nodeValue),(i=e.getAttributeNode("returntohorizon"))&&(Sn=1*i.nodeValue),(i=e.getAttributeNode("nodedelay"))&&(xn=1*i.nodeValue),Lr&&0!=En&&(wn=yn=m,Tn=(new Date).getTime())),"input"==e.nodeName&&(s||(s=e));if(s)for(r=0;6>r;r++)i=s.getAttributeNode("prev"+r+"url"),dn[r]=i?new String(i.nodeValue):"";"altinput"==e.nodeName&&(r=0,(i=e.getAttributeNode("screensize"))&&(r=1*i.nodeValue),0<r&&r>=at.getMaxScreenResolution()&&r<f&&(f=r,s=e)),"control"==e.nodeName&&Lr&&((i=e.getAttributeNode("simulatemass"))&&(Kt=1==i.nodeValue),(i=e.getAttributeNode("locked"))&&(Kn=1==i.nodeValue),i&&(Jn=1==i.nodeValue),(i=e.getAttributeNode("lockedmouse"))&&(Kn=1==i.nodeValue),(i=e.getAttributeNode("lockedkeyboard"))&&(Jn=1==i.nodeValue),(i=e.getAttributeNode("lockedwheel"))&&(Qn=1==i.nodeValue),(i=e.getAttributeNode("invertwheel"))&&(Yn=1==i.nodeValue),(i=e.getAttributeNode("speedwheel"))&&(Zn=1*i.nodeValue),(i=e.getAttributeNode("invertcontrol"))&&(Gn=1==i.nodeValue),(i=e.getAttributeNode("dblclickfullscreen"))&&(er=1==i.nodeValue)),"overlay"==e.nodeName&&((i=e.getAttributeNode("blendspeed"))&&(In=1*i.nodeValue),(i=e.getAttributeNode("auto"))&&(zn=1==i.nodeValue),(i=e.getAttributeNode("delay"))&&(qn=1*i.nodeValue)),"userdata"==e.nodeName&&(at.userdata=t(e));if("hotspots"==e.nodeName)for(r=e.firstChild;r;){if("label"==r.nodeName){var c=G;if(i=r.getAttributeNode("enabled"))c.enabled=1==i.nodeValue;if(i=r.getAttributeNode("width"))c.width=1*i.nodeValue;if(i=r.getAttributeNode("height"))c.height=1*i.nodeValue;if(i=r.getAttributeNode("textcolor"))c.W=1*i.nodeValue;if(i=r.getAttributeNode("textalpha"))c.V=1*i.nodeValue;if(i=r.getAttributeNode("background"))c.background=1==i.nodeValue;if(i=r.getAttributeNode("backgroundalpha"))c.s=1*i.nodeValue;if(i=r.getAttributeNode("backgroundcolor"))c.t=1*i.nodeValue;if(i=r.getAttributeNode("border"))c.P=1*i.nodeValue;if(i=r.getAttributeNode("bordercolor"))c.v=1*i.nodeValue;if(i=r.getAttributeNode("borderalpha"))c.u=1*i.nodeValue;if(i=r.getAttributeNode("borderradius"))c.O=1*i.nodeValue;if(i=r.getAttributeNode("wordwrap"))c.wordwrap=1==i.nodeValue}"polystyle"==r.nodeName&&((i=r.getAttributeNode("mode"))&&(Y=1*i.nodeValue),(i=r.getAttributeNode("bordercolor"))&&(tt=1*i.nodeValue),(i=r.getAttributeNode("backgroundcolor"))&&(rt=1*i.nodeValue),(i=r.getAttributeNode("borderalpha"))&&(nt=1*i.nodeValue),(i=r.getAttributeNode("backgroundalpha"))&&(it=1*i.nodeValue)),"hotspot"==r.nodeName&&(c={type:"point",pan:0,tilt:0,url:"",target:"",id:"",skinid:"",w:100,h:20,wordwrap:u,obj:n,H:n},i=r.getAttributeNode("pan"),c.pan=1*(i?i.nodeValue:0),i=r.getAttributeNode("tilt"),c.tilt=1*(i?i.nodeValue:0),(i=r.getAttributeNode("url"))&&(c.url=i.nodeValue.toString()),(i=r.getAttributeNode("target"))&&(c.target=i.nodeValue.toString()),(i=r.getAttributeNode("title"))&&(c.title=i.nodeValue.toString()),(i=r.getAttributeNode("id"))&&(c.id=i.nodeValue.toString()),(i=r.getAttributeNode("skinid"))&&(c.skinid=i.nodeValue.toString()),(i=e.getAttributeNode("width"))&&(c.w=i.nodeValue.toString()),(i=e.getAttributeNode("height"))&&(c.h=i.nodeValue.toString()),(i=e.getAttributeNode("wordwrap"))&&(c.wordwrap=1==i.nodeValue),Mn.push(c));if("polyhotspot"==r.nodeName){c={type:"poly",url:"",target:"",id:"",skinid:"",w:100,h:20,wordwrap:u,obj:n,H:n,c:0,k:0},(i=r.getAttributeNode("url"))&&(c.url=i.nodeValue.toString()),(i=r.getAttributeNode("target"))&&(c.target=i.nodeValue.toString()),(i=r.getAttributeNode("title"))&&(c.title=i.nodeValue.toString()),(i=r.getAttributeNode("id"))&&(c.id=i.nodeValue.toString()),c.v=tt,c.t=rt,c.u=nt,c.s=it;if(i=r.getAttributeNode("bordercolor"))c.v=1*i.nodeValue;if(i=r.getAttributeNode("backgroundcolor"))c.t=1*i.nodeValue;if(i=r.getAttributeNode("borderalpha"))c.u=1*i.nodeValue;if(i=r.getAttributeNode("backgroundalpha"))c.s=1*i.nodeValue;c.H=[];for(var h=r.firstChild;h;){if("vertex"==h.nodeName){var p={pan:0,tilt:0};i=h.getAttributeNode("pan"),p.pan=1*(i?i.nodeValue:0),i=h.getAttributeNode("tilt"),p.tilt=1*(i?i.nodeValue:0),c.H.push(p)}h=h.nextSibling}Mn.push(c)}r=r.nextSibling}if("sounds"==e.nodeName||"media"==e.nodeName)for(r=e.firstChild;r;){if("sound"==r.nodeName){h={id:"",url:"",loop:0,b:1,z:0,mode:1,field:10,pan:0,tilt:0,f:0,r:0,url:[]};if(i=r.getAttributeNode("id"))h.id=i.nodeValue.toString();(i=r.getAttributeNode("url"))&&h.url.push(i.nodeValue.toString());if(i=r.getAttributeNode("level"))h.b=Number(i.nodeValue);if(i=r.getAttributeNode("loop"))h.loop=Number(i.nodeValue);if(i=r.getAttributeNode("mode"))h.mode=Number(i.nodeValue);if(i=r.getAttributeNode("field"))h.field=Number(i.nodeValue);if(i=r.getAttributeNode("ambientlevel"))h.z=Number(i.nodeValue);if(i=r.getAttributeNode("pan"))h.pan=Number(i.nodeValue);if(i=r.getAttributeNode("tilt"))h.tilt=Number(i.nodeValue);if(i=r.getAttributeNode("pansize"))h.f=Number(i.nodeValue);if(i=r.getAttributeNode("tiltsize"))h.r=Number(i.nodeValue);for(c=r.firstChild;c;)"source"==c.nodeName&&(i=c.getAttributeNode("url"))&&h.url.push(i.nodeValue.toString()),c=c.nextSibling;l(h)}if("video"==r.nodeName){h={id:"",url:"",loop:0,b:1,z:0,mode:1,field:10,pan:0,tilt:0,f:0,r:0,i:0,j:0,F:0,B:50,g:0,url:[]};if(i=r.getAttributeNode("id"))h.id=i.nodeValue.toString();(i=r.getAttributeNode("url"))&&h.url.push(i.nodeValue.toString());if(i=r.getAttributeNode("level"))h.b=Number(i.nodeValue);if(i=r.getAttributeNode("loop"))h.loop=Number(i.nodeValue);if(i=r.getAttributeNode("mode"))h.mode=Number(i.nodeValue);if(i=r.getAttributeNode("field"))h.field=Number(i.nodeValue);if(i=r.getAttributeNode("ambientlevel"))h.z=Number(i.nodeValue);if(i=r.getAttributeNode("pan"))h.pan=Number(i.nodeValue);if(i=r.getAttributeNode("tilt"))h.tilt=Number(i.nodeValue);if(i=r.getAttributeNode("pansize"))h.f=Number(i.nodeValue);if(i=r.getAttributeNode("tiltsize"))h.r=Number(i.nodeValue);if(i=r.getAttributeNode("rotx"))h.i=Number(i.nodeValue);if(i=r.getAttributeNode("roty"))h.j=Number(i.nodeValue);if(i=r.getAttributeNode("rotz"))h.F=Number(i.nodeValue);if(i=r.getAttributeNode("fov"))h.B=Number(i.nodeValue);if(i=r.getAttributeNode("width"))h.n=Number(i.nodeValue);if(i=r.getAttributeNode("height"))h.m=Number(i.nodeValue);i=r.getAttributeNode("stretch"),h.J=i?Number(i.nodeValue):1;if(i=r.getAttributeNode("clickmode"))h.g=Number(i.nodeValue);for(c=r.firstChild;c;)"source"==c.nodeName&&(i=c.getAttributeNode("url"))&&h.url.push(i.nodeValue.toString()),c=c.nextSibling;a(h)}if("image"==r.nodeName){h={id:"",url:"",loop:0,b:1,z:0,mode:1,field:10,pan:0,tilt:0,f:0,r:0,i:0,j:0,F:0,B:50,g:0};if(i=r.getAttributeNode("id"))h.id=i.nodeValue.toString();if(i=r.getAttributeNode("url"))h.url=i.nodeValue.toString();if(i=r.getAttributeNode("pan"))h.pan=Number(i.nodeValue);if(i=r.getAttributeNode("tilt"))h.tilt=Number(i.nodeValue);if(i=r.getAttributeNode("rotx"))h.i=Number(i.nodeValue);if(i=r.getAttributeNode("roty"))h.j=Number(i.nodeValue);if(i=r.getAttributeNode("rotz"))h.F=Number(i.nodeValue);if(i=r.getAttributeNode("fov"))h.B=Number(i.nodeValue);if(i=r.getAttributeNode("width"))h.n=Number(i.nodeValue);if(i=r.getAttributeNode("height"))h.m=Number(i.nodeValue);i=r.getAttributeNode("stretch"),h.J=i?Number(i.nodeValue):1;if(i=r.getAttributeNode("clickmode"))h.g=Number(i.nodeValue);for(c=r.firstChild;c;)"source"==c.nodeName&&(i=c.getAttributeNode("url"))&&(h.url=i.nodeValue.toString()),c=c.nextSibling;o(h)}r=r.nextSibling}e=e.nextSibling}if(s){for(r=0;6>r;r++)(i=s.getAttributeNode("tile"+r+"url"))&&(hn[r]=new String(i.nodeValue)),i=s.getAttributeNode("tile"+r+"url1"),pn[r]=i?new String(i.nodeValue):"";for(r=0;6>r;r++)(i=s.getAttributeNode("prev"+r+"url"))&&(dn[r]=new String(i.nodeValue));(i=s.getAttributeNode("tilesize"))&&(vn=1*i.nodeValue),(i=s.getAttributeNode("tilescale"))&&(mn=1*i.nodeValue)}nr?hr&&(F(mn),I()):(rr=m,0<=navigator.userAgent.indexOf("MSIE")?at.ia():at.createCube(),at.T=0),at.addHotspotElements(),at.dirty=m,Lr&&at.divSkin&&at.divSkin.ggViewerInit&&at.divSkin.ggViewerInit(),Lr=u,at.hasConfig=m,K()},at.openUrl=function(e,t){0<e.length&&(-1==e.indexOf("://")&&"/"!=e.substr(0,1)&&(e=ur+e),".xml"==e.substr(e.length-4)||".swf"==e.substr(e.length-4)||"{"==e.charAt(0)?at.openNext(e,t):window.open(e,t))},at.openNext=function(e,t){at.isLoaded=u,at.hasConfig=u,at.checkLoaded=[],at.divSkin&&at.divSkin.ggReLoaded&&at.divSkin.ggReLoaded(),cn=0,at.skinObj&&at.skinObj.hotspotProxyOut&&at.skinObj.hotspotProxyOut(at.hotspot.id),".swf"==e.substr(e.length-4)&&(e=e.substr(0,e.length-4)+".xml");var n="";t&&(n=t.toString()),n=n.replace("$cur",ft+"/"+vt+"/"+wt),n=n.replace("$ap",ft),n=n.replace("$an",at.getPanNorth()),n=n.replace("$at",vt),n=n.replace("$af",wt);if(""!=n){var i=n.split("/");3<i.length&&""!=i[3]&&(at.startNode=i[3])}if("{"==e.charAt(0)){if(i=e.substr(1,e.length-2),!Hn[i]){Q("invalid node id: "+i);return}at.U(Hn[i]),r(e)}else at.readConfigUrl(e);""!=n&&(i=n.split("/"),0<i.length&&at.setPan(Number(i[0])),1<i.length&&at.setTilt(Number(i[1])),2<i.length&&at.setFov(Number(i[2]))),P()},at.getNodeIds=function(){return Bn.slice(0)},at.getNodeUserdata=function(e){if(!e)return at.userdata;if(e=Hn[e])for(e=e.firstChild;e;){if("userdata"==e.nodeName)return t(e);e=e.nextSibling}return[]},at.getNodeLatLng=function(e){var e=at.getNodeUserdata(e),t=[];return t.push(e.latitude),t.push(e.longitude),t},at.getNodeTitle=function(e){return at.getNodeUserdata(e).title},at.detectBrowser(),at.createLayers(e),at.ga()}var m=!0,n=null,u=!1;glMatrixArrayType="undefined"!=typeof Float32Array?Float32Array:"undefined"!=typeof WebGLFloatArray?WebGLFloatArray:Array,window.ggHasHtml5Css3D=lc,window.ggHasWebGL=mc,window.pano2vrPlayer=pano2vrPlayer